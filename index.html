<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grand Surprise</title>
    <style>
        body {
            background-color: black;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            text-align: center;
            overflow: hidden;
        }
        #text-box {
            font-size: 2em;
            font-weight: bold;
            white-space: pre-wrap;
            display: inline-block;
        }
        #image-container {
            display: none;
            margin-top: 20px;
        }
        #final-image {
            width: 100vw;
            height: auto;
            display: none;
        }
        @keyframes blink {
            0%, 50%, 100% { background-color: black; }
            25%, 75% { background-color: white; }
        }
        @keyframes lightning {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>

<div id="text-box"></div>
<div id="image-container">
    <img id="first-image" src="297bc2a92e0b878fef4f34e73220a5d76f60d9cd_m.jpeg" width="500">
</div>
<img id="final-image" src="niha-surprise.jpg">

<script>
    const textBox = document.getElementById("text-box");
    const firstImage = document.getElementById("first-image");
    const finalImage = document.getElementById("final-image");

    const messages = [
        "Hey Niha, want to see something?",
        "",
        "See, it's us!",
        "But wait...",
        "Something looks off...",
        "They don't look like us!",
        "Let's get our first pic, baby!"
    ];

    function typeMessage(index, callback) {
        if (index >= messages.length) {
            callback();
            return;
        }

        let text = messages[index];
        let i = 0;
        textBox.innerHTML = "";
        
        function type() {
            if (i < text.length) {
                textBox.innerHTML += text[i++];
                setTimeout(type, 100);
            } else {
                setTimeout(() => backspaceMessage(callback), 800);
            }
        }
        type();
    }

    function backspaceMessage(callback) {
        let text = textBox.innerHTML;
        let i = text.length;
        
        function backspace() {
            if (i > 0) {
                textBox.innerHTML = text.substring(0, --i);
                setTimeout(backspace, 50);
            } else {
                setTimeout(() => typeMessage(callback.index++, callback), 500);
            }
        }
        backspace();
    }

    function startSequence() {
        let step = { index: 0 };
        typeMessage(0, () => {
            firstImage.style.display = "block";
            setTimeout(() => {
                typeMessage(2, () => {
                    firstImage.style.display = "none";
                    typeMessage(3, () => {
                        setTimeout(showCountdown, 1000);
                    });
                });
            }, 1000);
        });
    }

    function showCountdown() {
        let count = 3;
        function countdown() {
            if (count > 0) {
                textBox.innerHTML = count--;
                setTimeout(countdown, 1000);
            } else {
                textBox.innerHTML = "Processing...";
                setTimeout(() => {
                    textBox.innerHTML = "Clearing all difficulties...";
                    setTimeout(() => {
                        textBox.innerHTML = "Getting love from the universe...";
                        setTimeout(triggerLightning, 1000);
                    }, 1000);
                }, 1000);
            }
        }
        countdown();
    }

    function triggerLightning() {
        document.body.style.animation = "blink 0.2s infinite";
        setTimeout(() => {
            document.body.style.animation = "";
            finalImage.style.display = "block";
            finalImage.style.animation = "lightning 1s infinite";
        }, 2000);
    }

    startSequence();
</script>

</body>
</html>
