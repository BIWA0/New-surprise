<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surprise for Niha</title>
    <style>
        body {
            background-color: black;
            color: #00FF00;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        #text {
            white-space: pre-line;
            overflow: hidden;
            display: inline-block;
            border-right: 5px solid #00FF00;
            padding-right: 5px;
        }
        #image-container {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            text-align: center;
        }
        #image-container img {
            width: 80%;
            max-width: 500px;
            transition: transform 3s ease-in-out;
        }
        .countdown {
            font-size: 50px;
        }
        .blink {
            animation: blink-animation 0.1s infinite;
        }
        @keyframes blink-animation {
            50% { background-color: white; color: black; }
        }
    </style>
</head>
<body>

<div id="text"></div>
<div id="image-container">
    <img id="surprise-image" src="niha-surprise.jpg" alt="Surprise">
</div>

<script>
    const messages = [
        "Hey Niha, want to see something?",
        "Backspacing...",
        "See, it's us!",
        "But something looks off...",
        "They don't look like us...",
        "Let's get our first pic, baby!",
        "Backspacing...",
        "3...",
        "2...",
        "1...",
        "Processing...",
        "Clearing all difficulties...",
        "Getting love from the universe..."
    ];

    let index = 0;
    let textElement = document.getElementById("text");

    function typeMessage(message, speed = 100, callback) {
        textElement.innerHTML = "";
        let i = 0;
        function type() {
            if (i < message.length) {
                textElement.innerHTML += message[i];
                i++;
                setTimeout(type, speed);
            } else {
                setTimeout(callback, 1000);
            }
        }
        type();
    }

    function backspaceMessage(callback) {
        let text = textElement.innerHTML;
        function erase() {
            if (text.length > 0) {
                text = text.slice(0, -1);
                textElement.innerHTML = text;
                setTimeout(erase, 50);
            } else {
                setTimeout(callback, 500);
            }
        }
        erase();
    }

    function showImage() {
        let imageContainer = document.getElementById("image-container");
        let image = document.getElementById("surprise-image");
        imageContainer.style.display = "block";
        setTimeout(() => {
            image.style.transform = "scale(0.5)";
            setTimeout(startCountdown, 2000);
        }, 1000);
    }

    function startCountdown() {
        textElement.classList.add("countdown");
        let countdownNumbers = ["3...", "2...", "1..."];
        let i = 0;
        function nextCountdown() {
            if (i < countdownNumbers.length) {
                typeMessage(countdownNumbers[i], 500, () => {
                    i++;
                    nextCountdown();
                });
            } else {
                processLoading();
            }
        }
        nextCountdown();
    }

    function processLoading() {
        textElement.classList.remove("countdown");
        let processingMessages = ["Processing...", "Clearing all difficulties...", "Getting love from the universe..."];
        let i = 0;
        function nextProcessing() {
            if (i < processingMessages.length) {
                typeMessage(processingMessages[i], 100, () => {
                    i++;
                    nextProcessing();
                });
            } else {
                flashScreen();
            }
        }
        nextProcessing();
    }

    function flashScreen() {
        document.body.classList.add("blink");
        setTimeout(() => {
            document.body.classList.remove("blink");
            showFinalImage();
        }, 2000);
    }

    function showFinalImage() {
        document.getElementById("image-container").innerHTML = `<img src="niha-surprise.jpg" style="width: 100%; max-width: 600px;">`;
    }

    function startSequence() {
        function nextMessage() {
            if (index < messages.length) {
                if (messages[index] === "Backspacing...") {
                    backspaceMessage(nextMessage);
                } else {
                    typeMessage(messages[index], 100, nextMessage);
                }
                index++;
            } else {
                showImage();
            }
        }
        nextMessage();
    }

    startSequence();
</script>

</body>
</html>
